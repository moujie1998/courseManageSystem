<!-- 张喜硕 出勤管理 -->
{extend name="index"/}
{block name="title"}
出勤管理
{/block}
{block name="content"}

    <h2 style="text-align: center">出勤管理</h2>

    <hr>

    <div class="row">

        <div class="col-md-8">
            <form class="form-inline">

                <select name="termId" class="btn btn-default">
                    {volist name="$Term->all()" id="term"}
                    <option value="{$term->id}" {eq name="term->id" value="$Term->id"}selected="true"{/eq}>{$term->name}</option>
                    {/volist}
                </select>

                <button type="submit" class="btn btn-default">
                    <i class="glyphicon glyphicon-search"></i>
                    &nbsp;查找
                </button>
            </form>
        </div>

    </div>

    <hr>

    <table class="table table-hover table-bordered">

        <tr class="info">
            <th>姓名</th>
            <th>病假数</th>
            <th>事假数</th>
            <th>旷课数</th>
            <th>加时数</th>
        </tr>

        {volist name="$Users" id="user"}
            <tr>
                <td>{$user->name}</td>
                <td>{$user->getSickLeave($Term->id)}</td>
                <td>{$user->getEventLeave($Term->id)}</td>
                <td>{$user->getAbsent($Term->id)}</td>
                <td>{$user->getOvertime($Term->id)}</td>
            </tr>
        {/volist}

    </table>
{/block}